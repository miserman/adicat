function adicat(t){if("string"!=typeof t)throw new TypeError("argument must be a string");this.string={raw:t,clean:"",striped:""},this.chars=t.length,this._processLevel=0,this._processTime={token:-1,cue:-1,cat:-1,display:-1}}function adicat_readDict(t,e){var r,s,i={},a=e?" ":"^",n=e?" ":"$",o=e?/ *\* */g:/\^*\*\$*/g,c=e?"g":"",h=/[[(](?!\\)/g,p=/[\])]/g,l=/(?=[[()\]])|\\\\/g;for(r in t)if(t.hasOwnProperty(r)&&!t[r].test){for(i[r]=[],s=t[r].length;s--;)1===h.test(t[r][s])+p.test(t[r][s])&&(t[r][s]=t[r][s].replace(l,"\\")),i[r][s]=(a+t[r][s]+n).replace(o,"");i[r]=new RegExp(i[r].join("|"),c)}return patterns.dict_proc=!0,i}function adicat_parse(t){t=t.split("\n");for(var e=t.length,r="",s={},i=[],a=/^[\t ]+/;e--;)r=t[e].match(a),i[e]=r?r[0].length:0;return s}function rand(t,e){return(e=e||0)+Math.floor(Math.random()*t+e)}function which(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return e;return!1}function addEvent(t,e,r){t.addEventListener?t.addEventListener(e,function(t){r(t)},!1):t.attachEvent("on"+e,function(t){r(t)},!1)}function bench(t,e){for(st=(new Date).getTime();t--;)e.call();return(new Date).getTime()-st}var patterns={word_breaks:/\s/g,char:/[A-z0-9?><!@#$%^&*()_+|}{":;}'\/.,-=\\\][\]]/,striped:/[^a-z0-9' ]/g,filter:/[$#%^*\r\n\t\-~\\—–→\+=[\/({})\]]| "(?!\w)|  /g,curly_quote:{s:/[‘’]/g,d:/[“”]/g},emojis:{smile:/\:\)|\: \)|\:\-\)/g,smile_rev:/emjhface/g,frown:/\:\(|\: \(|\:\-\(/g,frown_rev:/emjsface/g},symbols:{and:/\&/g,at:/\@/g},punct:{initials:/[,.](?=\w+[.,])/g,apostrophe:/\.\'s/g,ellipses:/…|\.[. ]+\./g},space:/ (?=[ .,?!(){}[\]*&^])|^ | $/g,cues:{question:/\?| wha+[t ]* | whe+n+ | who+ | how| a[sk]{2} | h+u+h/,greeting:/ hi[yi]* | h[ae]+[iy]+ | hello[o ]* | yo[o ]+ | what[']*(?:s| is) (?:shak|up)/,yes:/ y[ae]+s+ | su+r+[e ]+| uh+u[hu ]+ | affirm| accep/,no:/ n+o+ | no+pe+ | decli| rejec/,sad:/ emjsface | ba+d | sa+d+ | frustr| depres| terribl| horribl/,happy:/ emjhface | happy | excited | goo+d+ | gre+a+t | e+xcellent| su+per | nice /},matches:{},dict:null,dict_proc:!1},liwc_means={overall:{ppron:9.95,ipron:5.26,article:6.51,auxverb:8.53,adverb:5.27,prep:12.93,conj:5.9,negate:1.66,quant:2.02},blogs:{ppron:10.66,ipron:5.53,article:6,auxverb:8.75,adverb:5.88,prep:12.6,conj:6.43,negate:1.81,quant:2.27},expressive:{ppron:12.74,ipron:5.28,article:5.7,auxverb:9.25,adverb:6.02,prep:14.27,conj:7.46,negate:1.69,quant:2.35},novels:{ppron:10.35,ipron:4.79,article:8.35,auxverb:7.77,adverb:4.17,prep:14.27,conj:6.28,negate:1.68,quant:1.8},natural:{ppron:13.37,ipron:7.53,article:4.34,auxverb:12.03,adverb:7.67,prep:10.29,conj:6.21,negate:2.24,quant:1.93},nytimes:{ppron:3.56,ipron:3.84,article:9.08,auxverb:5.11,adverb:2.76,prep:14.27,conj:4.85,negate:.62,quant:1.94},twitter:{ppron:9.02,ipron:4.6,article:5.58,auxverb:8.27,adverb:5.13,prep:11.88,conj:4.19,negate:1.74,quant:1.85}};adicat.prototype={constructor:adicat,tokenize:function(){var t=(new Date).getTime();if(this.string.clean=this.string.raw.replace(patterns.word_breaks," ").replace(patterns.curly_quote.s,"'").replace(patterns.curly_quote.d,'"').replace(patterns.emojis.smile," emjhface ").replace(patterns.emojis.frown," emjsface ").replace(patterns.symbols.and," and ").replace(patterns.symbols.at," at ").replace(patterns.punct.initials,"").replace(patterns.punct.apostrophe,"'s").replace(patterns.punct.ellipses,"... ").replace(patterns.filter," ").replace(patterns.space,""),this.string.striped=this.string.clean.toLowerCase().replace(patterns.striped,""),this.words={token:this.string.striped.split(patterns.word_breaks),print:this.string.clean.replace(patterns.emojis.smile_rev,":)").replace(patterns.emojis.frown_rev,":(").split(patterns.word_breaks)},this.WC=this.words.token.length,this.WC!==this.words.print.length){if(this._processLevel)throw"InputError: the input text is not parsing properly; check for special characters";return this._processLevel=.5,this.string.raw=this.string.raw.replace(/[^A-z0-9?!'",.-;:[({})\]]/g," "),this.tokenize()}return this.string.striped=" "+this.string.striped+" ",this._processLevel=1,this._processTime.token=(new Date).getTime()-t,this},categorize:function(t,e){if(e=e||[],this._processLevel||this.tokenize(),t){for(var r in t)if(t.hasOwnProperty(r)){if(t[r].test)break;t=adicat_readDict(t);break}}else patterns.dict_proc||(window.hasOwnProperty("adicat_dict")||alert("no dictionary was specified"),patterns.dict=adicat_dict),t=patterns.dict;var s,i,a,n,r,o,c=0,h=(new Date).getTime();for(this.words.categories=[],this.cats={},this.cats_type=this.captured=0,c=this.WC;c--;)if(n=this.words.token[c],patterns.matches.hasOwnProperty(n)){for(a=patterns.matches[n],s=a.length;s--;)i=a[s],-1===e.indexOf(i)&&(this.cats[i]=this.cats.hasOwnProperty(i)?this.cats[i]+1:1);this.words.categories[c]=" "+a.join(" ")+" ",this.captured+=1}else{o=!1;for(r in t)t.hasOwnProperty(r)&&-1===e.indexOf(r)&&(this.cats.hasOwnProperty(r)||(this.cats[r]=0),t[r].test(n)&&(patterns.matches[n]||(patterns.matches[n]=[]),this.cats[r]+=1,patterns.matches[n].push(r),o=!0));this.words.categories[c]=patterns.matches[n]?" "+patterns.matches[n].join(" ")+" ":" none ",o&&(this.captured+=1)}return this._processLevel=2,this._processTime.cat=(new Date).getTime()-h,this},toPercent:function(t){if(this.hasOwnProperty("cats")||this.categorize(),!this.cats_type)for(var e in this.cats)this.cats.hasOwnProperty(e)&&(this.cats[e]=this.cats[e]/this.WC*100,t&&(this.cats[e]=Math.round(100*this.cats[e])/100));return this.cats},detect:function(t){t=t||patterns.cues,this._processLevel||this.tokenize();var e=(new Date).getTime();this.cues={};for(var r in t)t.hasOwnProperty(r)&&(this.cues[r]=t[r].test(this.string.striped)||t[r].test(this.string.raw));return this._processTime.cue=(new Date).getTime()-e,this},display:function(t,e){var r,s=(new Date).getTime(),i=0,a=/^ | $/g,n=/ /g,o="";for(this._processLevel<2&&this.categorize(),this.html=[];i<this.WC;i++)o=" "===this.words.categories[i]?" none ":this.words.categories[i],this.html[i]=document.createElement("span"),this.html[i].className=o,this.html[i].title=o.replace(a,"").replace(n,", "),this.html[i].innerText=this.words.print[i];return t&&(r=e?function(t,e){return t.className>e.className?1:-1}:function(t,e){return t.innerText.toUpperCase()>e.innerText.toUpperCase()?1:-1},this.html=this.html.sort(r)),this._processTime.display=(new Date).getTime()-s,this.html},canberra:function(t,e){if(e=e||["ppron","ipron","article","adverb","conj","prep","auxverb","negate","quant"],this.lsm=0,t&&"string"!=typeof t){if(!t.hasOwnProperty("cats"))return this.lsm;t.cats_type||t.toPercent(),t=t.cats}else t=t&&!liwc_means.hasOwnProperty(t)?new adicat(t).categorize().toPercent():liwc_means[t||"overall"];this.hasOwnProperty("cats")||this.categorize(),this.cats_type||this.toPercent();for(var r=i=e.length,s="";i--;)s=e[i],this.cats.hasOwnProperty(s)&&t.hasOwnProperty(s)&&(this.lsm+=Math.abs(this.cats[s]-t[s])/(this.cats[s]+t[s]+.001));return this.lsm=1-Math.round(this.lsm/r*1e3)/1e3,this.lsm}},Array.prototype.sample=function(e){var r=this.length,s=[],i=[],a=t=0;if(!e||1===e)return this[rand(r)];for(e=Math.min(e,r);a<e;)-1===s.indexOf(t=rand(r))&&(s[a]=t,i[a]=this[t],a++);return i},Array.prototype.unique=function(){for(var t=this.length,e=i=0,r=[];e<t;e++)-1===r.indexOf(this[e])&&(r[i]=this[e],i++);return r},Array.prototype.grepl=function(t){var e=this.length,r=[];if(this[0].test)for(;e--;)r[e]=this[e].test(t);else{if(!this[0].search)throw new TypeError("the first value does not have a search or test function");for(;e--;)r[e]=-1!==this[e].search(t)}return r},Array.prototype.nmatch=function(t){var e=this.length,r=0;if(this[0].test)for(;e--;)r+=this[e].test(t);else{if(!this[0].search)throw new TypeError("the first value does not have a search or test function");for(;e--;)r+=-1!==this[e].search(t)}return r},Array.prototype.sum=function(){for(var t=this.length,e=0;t--;)e+=this[t];return e},Array.prototype.indexOf||(Array.prototype.indexOf=function(t){for(var e=this.length;e--;)if(t==this[e])return e;return-1});